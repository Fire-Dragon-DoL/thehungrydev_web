function getAlert(){var e=document.getElementById("alertbox"),n=e.children[0].children[0];return{alert:e,p:n}}function showFailureAlertBox(e){return showAlertBox("&#x2717; "+e)}function showSuccessAlertBox(e){return showAlertBox("&#x2713; "+e)}function showAlertBox(e){var n=getAlert();n.alert.style.display="inline-block",n.p.innerHTML=e,setTimeout(function(){n.alert.style.display="none"},2e4)}function verifiedSubmit(e,n){function t(){r.disabled=!0,r.children[0].innerText="Sending ..."}var r=n.elements["send-email"],o=r.children[0].innerText,i=(n.elements.name,n.elements.email,n.elements.message,function(){r.disabled=!1,r.children[0].innerText=o});t(),challenge=new Promise(function(n,t){e.execute(window.RECAPTCHA_SITE_KEY,{action:"contactMe"}).then(function(e){n(e)})}),challenge.then(function(e){var t=n.elements.recaptchaToken;return t.value=e,e}).then(function(){var e=n.action,t=n.method.toUpperCase(),r=new URLSearchParams,o=new FormData(n);return o.forEach(function(e,n){r.append(n,e)}),fetch(e,{method:t,body:r})}).then(function(e){if(!e.ok){if(e.bodyUsed)return throwResponseText(e);throw new Error("Request failed")}return console.info("E-Mail sent",e),e.bodyUsed?e.text():"E-Mail sent"}).then(function(e){return showSuccessAlertBox(""+e),n.reset(),i(),e})["catch"](function(e){return showFailureAlertBox(""+e),console.error("Failed sending: "+e),""+e}).then(function(e){i()})}function throwResponseText(e){return e.text().then(function(e){throw new Error(e)})}function listenTo(e,n){if(e.addEventListener)return e.addEventListener("submit",n,!1);if(e.attachEvent)return e.attachEvent("onsubmit",n);throw new TypeError("`element` doesn't support listening")}!function(){var e=window.grecaptcha;e.ready(function(){var n=document.getElementById("contact-me");null!==n&&listenTo(n,function(t){t.preventDefault&&t.preventDefault(),verifiedSubmit(e,n)})})}();